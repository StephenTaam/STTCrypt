<!DOCTYPE html>
<html lang="zh">
  <head>
    <link rel="icon" type="image/png" href="images/favicon.png">
    <meta charset="UTF-8" />
    <title>Bg7++</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
  font-family: "Segoe UI", "PingFang SC", "Microsoft YaHei", "Helvetica Neue", sans-serif;
  margin: 0;
  padding: 0;
  background: url('imags/p1.jpg') no-repeat center center fixed;
  background-size: cover;
  color: #2c2c2c;
  line-height: 1.6;
  box-sizing: border-box;
}

@media (max-width: 600px) {
  body {
    background: #ffffff !important; /* çº¯ç™½èƒŒæ™¯ */
  }
}

      *,
      *:before,
      *:after {
        box-sizing: inherit;
      }
      
      header {
        background: linear-gradient(135deg, #4a90e2 0%, #357ab7 100%);
        padding: 40px 20px;
        text-align: center;
        color: white;
        box-shadow: 0 4px 12px rgba(53, 122, 183, 0.5);
      }

      header h1 {
        margin: 0;
        font-size: 3.2rem;
        font-weight: 700;
        letter-spacing: 1.5px;
      }

      .history-banner img {
        width: 100%;
        max-width: 800px;
        height: auto;
        display: block;
        margin: 0 auto;

        vertical-align: bottom;
      }

      .quote {
        font-style: italic;
        font-size: 1.125rem;
        color: #555;
        background-color: #fff;
        /*margin: 40px auto;*/
        margin: 0 auto 40px;
        padding: 25px 40px;
        max-width: 820px;
        border-radius: 12px;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.07);
        border-left: none;
      }

      .quote-footer {
        text-align: right;
        margin-top: 16px;
        color: #888;
        font-size: 0.9rem;
        font-weight: 500;
        letter-spacing: 0.05em;
      }
      .welcome, #view-count {
  color: #fff;
  text-align: center;
  text-shadow:
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000;
}


      hr {
        margin: 50px auto;
        max-width: 720px;
        border: none;
        border-top: 1px solid #e0e0e0;
      }

      .section-title {
        text-align: center;
        font-size: 2.4rem;
        margin-bottom: 28px;
        color: #333;
        font-weight: 700;
        letter-spacing: 0.05em;
      }

      .nav {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 18px;
        padding: 0 15px 35px;
      }

      .nav a {
        text-decoration: none;
        color: white;
        background-color: #4a90e2;
        padding: 16px 34px;
        font-size: 1.125rem;
        font-weight: 600;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(74, 144, 226, 0.4);
        transition: background-color 0.35s ease, box-shadow 0.35s ease,
          transform 0.25s ease;
        user-select: none;
      }

      .nav a:hover,
      .nav a:focus {
        background-color: #357ab7;
        box-shadow: 0 6px 20px rgba(53, 122, 183, 0.6);
        transform: translateY(-3px);
        outline: none;
      }

      /* æ–°å¢ä¸¤æ å¸ƒå±€å®¹å™¨ */
      .main-content {
        display: flex;
        justify-content: center;
        gap: 32px;
        max-width: 1140px;
        margin: 0 auto 60px;
        padding: 0 20px;
        flex-wrap: wrap;

        align-items: flex-start;

      }

      .content-area {
        flex: 1 1 600px;
        min-width: 280px;
        max-width: 860px;
      }

      .article-list {
        max-width: 100%;
        margin: 0;
        padding: 0;
      }

      .article {
        background: #fff;
        margin-bottom: 24px;
        padding: 24px 28px;
        border-radius: 14px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        transition: box-shadow 0.3s ease;
      }

      .article:hover {
        box-shadow: 0 7px 22px rgba(0, 0, 0, 0.12);
      }

      .article a {
        font-size: 1.3rem;
        color: #4a90e2;
        text-decoration: none;
        font-weight: 600;
      }

      .article a:hover,
      .article a:focus {
        text-decoration: underline;
        outline: none;
      }

      .article p {
        margin: 8px 0 4px;
        font-size: 0.9rem;
        color: #555;
        font-weight: 500;
      }

      .pagination {
        text-align: center;
        margin: 0 auto 40px;
      }

      .pagination button {
        margin: 0 7px;
        padding: 12px 24px;
        font-size: 1rem;
        background-color: #4a90e2;
        color: white;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-weight: 700;
        box-shadow: 0 4px 14px rgba(74, 144, 226, 0.5);
        transition: background-color 0.3s ease, box-shadow 0.3s ease,
          transform 0.2s ease;
        user-select: none;
      }

      .pagination button:disabled {
        background-color: #c1c1c1;
        cursor: not-allowed;
        box-shadow: none;
      }

      .pagination button:not(:disabled):hover,
      .pagination button:not(:disabled):focus {
        background-color: #357ab7;
        box-shadow: 0 6px 20px rgba(53, 122, 183, 0.6);
        transform: translateY(-2px);
        outline: none;
      }

      /* ä¾§è¾¹æ æ ·å¼ */
      .sidebar {
        width: 280px;
        background: #fff;
        padding: 20px 24px;
        border-radius: 12px;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
        font-size: 0.95rem;
        line-height: 1.6;
        color: #333;
        flex-shrink: 0;

        align-self: flex-start; /* ä¿è¯ä¸è¢«å¼ºè¡Œæ‹‰æ»¡ */
        height: auto;           /* æ˜ç¡®è¡¨ç¤ºé«˜åº¦è‡ªé€‚åº”å†…å®¹ */
        max-height: fit-content;
      }

      .sidebar-box {
        margin-bottom: 28px;
      }

      .sidebar h3 {
        font-size: 1.3rem;
        color: #4a90e2;
        margin-bottom: 14px;
        font-weight: 700;
      }

      .sidebar-links {
        list-style: none;
        padding-left: 0;
        margin: 0;
      }

      .sidebar-links li {
        margin-bottom: 12px;
      }

      .sidebar-links a {
        text-decoration: none;
        color: #357ab7;
        font-weight: 600;
        transition: color 0.3s ease;
      }

      .sidebar-links a:hover {
        color: #2c5d9e;
      }

      /* å“åº”å¼è°ƒæ•´ */
      @media (max-width: 960px) {
        .main-content {
          flex-direction: column;
          max-width: 720px;
          padding: 0 15px;
        }

        .sidebar {
          width: 100%;
          margin-top: 40px;
        }
      }

      @media (max-width: 600px) {
        header h1 {
          font-size: 2.4rem;
        }

        .nav a {
          width: 90%;
          text-align: center;
          padding: 14px 0;
          font-size: 1.1rem;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Bg7++çš„åšå®¢</h1>
    </header>

    <div
      class="history-banner"
      role="img"
      aria-label="æ¢¦æƒ³çš„æ—¥å‡ºä¹‹åœ°"
      style="text-align: center"
    >
      <img src="imags/home_2.jpg" alt="æ¢¦æƒ³çš„æ—¥å‡ºä¹‹åœ°" />
    </div>

    <div class="quote">
      â€œè®¸å¤šäººæ‰€è°“çš„æˆç†Ÿï¼Œä¸è¿‡æ˜¯è¢«ä¹ ä¿—ç£¨å»äº†æ£±è§’ï¼Œå˜å¾—ä¸–æ•…è€Œå®é™…äº†ï¼›é‚£ä¸æ˜¯æˆç†Ÿï¼Œè€Œæ˜¯ç²¾ç¥çš„æ—©è¡°å’Œä¸ªæ€§çš„å¤­äº¡ï¼
      çœŸæ­£çš„æˆç†Ÿï¼Œåº”å½“æ˜¯ç‹¬ç‰¹ä¸ªæ€§çš„å½¢æˆï¼ŒçœŸå®è‡ªæˆ‘çš„å‘ç°ï¼Œç²¾ç¥ä¸Šçš„ç»“æœå’Œä¸°æ”¶ã€‚â€
      <div class="quote-footer">
        â€”â€”ã€Šåœ¨ä¸–çºªçš„è½¬æŠ˜ç‚¹ä¸Šã€‹ å°¼é‡‡ï¼ˆå“²å­¦å®¶ æ€æƒ³å®¶ï¼‰
      </div>
    </div>

    <div class="welcome">æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººä¸»é¡µï¼âœ¨</div>


    <hr />

    <!--<div class="section-title">åˆ†åŒºå¯¼èˆª</div>-->
    <div class="nav">
      <a href="/html/introduction.html">ç®€ä»‹</a>
      <a href="/html/life.html">ç”Ÿæ´»</a>
      <a href="/html/catholic.html">å¤©ä¸»æ•™</a>
      <a href="/html/technology.html">è®¡ç®—æœºæŠ€æœ¯</a>
      <a href="/html/chess.html">å›½é™…è±¡æ£‹</a>
      <a href="/html/history.html">å†å²</a>
    </div>

    <hr />

    <div class="main-content">
      <div class="content-area">

        
        

        <!--<div class="section-title">æ–‡ç« åˆ—è¡¨</div>-->
        <div class="article-list" id="article-list"></div>
        <div class="pagination">
          <button id="prev-btn">ä¸Šä¸€é¡µ</button>
          <button id="next-btn">ä¸‹ä¸€é¡µ</button>
        </div>
      </div>

      <aside class="sidebar" role="complementary" aria-label="ä¾§è¾¹æ ç®€ä»‹å’Œä½œè€…ä»‹ç»">
        <div class="sidebar-box">
          <h3>ğŸ“š åˆ†åŒº</h3>
          <ul class="sidebar-links">
            <li>
              <a href="/html/introduction.html">ğŸ“ åšå®¢ç®€ä»‹</a>
            </li>
            <li><a href="/html/life.html">ğŸŒ¿ ç”Ÿæ´»</a></li>
            <li><a href="/html/technology.html">ğŸ’» è®¡ç®—æœºæŠ€æœ¯</a></li>
            <li><a href="/html/history.html">ğŸ“– å†å²</a></li>
            <li><a href="/html/catholic.html">âœï¸ å¤©ä¸»æ•™</a></li>
            <li><a href="/html/chess.html">â™Ÿï¸ å›½é™…è±¡æ£‹</a></li>
          </ul>
        </div>
        
        <div class="sidebar-box">
          <h3>ğŸ” æœç´¢æ–‡ç« </h3>
          <form id="search-form">
            <input type="text" id="keywords" placeholder="å…³é”®è¯..." style="width: 100%; padding: 6px; margin-bottom: 10px;" />
        
            <div style="margin-bottom: 8px;">
              <label><input type="checkbox" name="type" value="history" /> å†å²</label><br/>
              <label><input type="checkbox" name="type" value="life" /> ç”Ÿæ´»</label><br/>
              <label><input type="checkbox" name="type" value="catholic" /> å¤©ä¸»æ•™</label><br/>
              <label><input type="checkbox" name="type" value="technology" /> è®¡ç®—æœºæŠ€æœ¯</label><br/>
              <label><input type="checkbox" name="type" value="chess" /> å›½é™…è±¡æ£‹</label>
            </div>
        
            <label style="font-weight: 600;">æ—¶é—´ï¼š</label><br />
            <input type="date" id="time1" style="width: 100%; padding: 6px; margin: 6px 0;" />
            <input type="date" id="time2" style="width: 100%; padding: 6px; margin-bottom: 10px;" />
        
            <button type="submit" style="width: 100%; padding: 8px; background-color: #4a90e2; color: #fff; border: none; border-radius: 6px; font-weight: 600;">æœç´¢</button>
            <button type="button" id="reset-btn" style="width: 100%; margin-top: 8px; padding: 6px; background: #eee; border: none; border-radius: 6px;">é‡ç½®</button>
          </form>
        </div>
        

        <div class="sidebar-box">
          <h3>ğŸ‘¨â€ğŸ’» ä½œè€…</h3>
          <p>
            Hiï¼Œæˆ‘æ˜¯ Bg7++ï¼Œä¸€ä¸ªå–œæ¬¢è‡ªç”±ã€æŠ€æœ¯å’Œæ€æƒ³çš„ C++ å·¥ç¨‹å¸ˆã€‚æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œå¸Œæœ›ä½ å–œæ¬¢è¿™é‡Œçš„å†…å®¹ï¼
          </p>
          <p style="margin-top: 8px;">
            ğŸ“§ è”ç³»æ–¹å¼ï¼š<a href="mailto:1356597983@qq.com">1356597983@qq.com</a>
          </p>
        </div>

        <div class="sidebar-box">
          <h3>ğŸ§ªğŸ› ï¸ STTNet æ¡†æ¶</h3>
          <p>è‡ªå†™çš„ C++ å¼€å‘æ¡†æ¶ï¼Œè½»é‡é«˜æ•ˆï¼Œé€‚ç”¨äº Linux ç¯å¢ƒã€‚å°¤å…¶é€‚ç”¨äºæœåŠ¡å™¨å¼€å‘ï¼Œç½‘ç»œå¼€å‘ã€‚</p>
          <a href="https://github.com/StephenTaam/STTNet" target="_blank"
            >GitHub åœ°å€</a
          >
          <br />
          <a
            href="https://139.129.21.152:5050/html/technology/6/html_Chinese/index.html"
            target="_blank"
            >ä¸­æ–‡æ–‡æ¡£</a
          >
          <br />
          <a
            href="https://139.129.21.152:5050/html/technology/6/html_English/index.html"
            target="_blank"
            >è‹±æ–‡æ–‡æ¡£</a
          >
          <br />
          <a
            href="https://139.129.21.152:5050/html/technology/6/STTNet.tar.gz"
            download
            >ğŸ“¦ ä¸‹è½½æ¡†æ¶</a
          >
        </div>
      </aside>
    </div>

    <script>
      const typeMap = {
        life: "ç”Ÿæ´»",
        catholic: "å¤©ä¸»æ•™",
        technology: "è®¡ç®—æœºæŠ€æœ¯",
        history: "å†å²",
        chess: "å›½é™…è±¡æ£‹",
      };

      let currentPage = 1;

      async function fetchArticles(page) {
        try {
          const response = await fetch(
            `https://139.129.21.152:5050/listArticle?Page=${page}`
          );
          const data = await response.json();
          renderArticles(data);
          currentPage = page;
          document.getElementById("prev-btn").disabled = page === 1;
          document.getElementById("next-btn").disabled = data.length < 10;
        } catch (error) {
          console.error("åŠ è½½æ–‡ç« å¤±è´¥:", error);
        }
      }

      function renderArticles(articles) {
  const list = document.getElementById("article-list");
  list.innerHTML = "";
  articles.forEach((article) => {
    const div = document.createElement("div");
    div.className = "article";

    const types = (article.type || [])
      .map((t) => typeMap[t])
      .filter(Boolean);
    const typeText = types.join("ï¼Œ");

    div.innerHTML = `
      <a href="https://139.129.21.152:5050/html/${article.type[0]}/${article.id}/${article.id}.html" target="_blank">${article.name}</a>
      <p>ğŸ•’ ${article.time}</p>
      <p>ğŸ·ï¸ ${typeText}</p>
      <p>ğŸ’¬ ${article.comment_num}    ğŸ‘€ ${article.view_num}</p>
    `;
    list.appendChild(div);
  });
}

      document.getElementById("prev-btn").addEventListener("click", () => {
        if (currentPage > 1) fetchArticles(currentPage - 1);
      });

      document.getElementById("next-btn").addEventListener("click", () => {
        fetchArticles(currentPage + 1);
      });

      fetchArticles(currentPage);



      document.getElementById("search-form").addEventListener("submit", async function (e) {
  e.preventDefault();

  const keywords = document.getElementById("keywords").value.trim();
  const time1 = document.getElementById("time1").value;
  const time2 = document.getElementById("time2").value;
  const types = Array.from(document.querySelectorAll('input[name="type"]:checked')).map(cb => cb.value);

  const postData = {
    Page: 1,
    Keywords: keywords,
    Time1: time1,
    Time2: time2,
    Type: types
  };

  try {
    const response = await fetch("https://139.129.21.152:5050/searchArticle", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(postData)
    });
    const data = await response.json();
    renderArticles(data);
    currentPage = 1;
    document.getElementById("prev-btn").disabled = true;
    document.getElementById("next-btn").disabled = data.length < 10;
  } catch (err) {
    console.error("æœç´¢å¤±è´¥", err);
  }
});

// é‡ç½®æŒ‰é’®
document.getElementById("reset-btn").addEventListener("click", () => {
  document.getElementById("keywords").value = "";
  document.querySelectorAll('input[name="type"]').forEach(cb => cb.checked = false);
  document.getElementById("time1").value = "";
  document.getElementById("time2").value = "";
  fetchArticles(1); // å›åˆ°é»˜è®¤åˆ—è¡¨
});

    </script>
  </body>
</html>

    </script>
  </body>
</html>
